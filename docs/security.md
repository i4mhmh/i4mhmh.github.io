# é˜²æŠ¤æªæ–½

## Desynchronization

**mlscat.security.desynchronization(traces, window)**

å¯¹åŠŸç‡è¿¹æ•°æ®æ–½åŠ **éšæœºå»åŒæ­¥åŒ–**ï¼ˆRandom Desynchronizationï¼‰ï¼Œç”¨äºæ¨¡æ‹Ÿæˆ–å¢å¼ºå¯¹æŠ—å®é™…ç¯å¢ƒä¸­å› æ—¶é—´æŠ–åŠ¨ã€é˜²æŠ¤æœºåˆ¶ï¼ˆå¦‚éšæœºå»¶è¿Ÿï¼‰å¼•èµ·çš„ä¿¡å·åç§»ã€‚

è¯¥å‡½æ•°ä¸ºæ¯æ¡è¿¹å¼•å…¥ä¸€ä¸ªåœ¨ `[0, window]` èŒƒå›´å†…çš„éšæœºå»¶è¿Ÿï¼Œåœ¨æ—¶é—´è½´ä¸Šå‘å³ç§»åŠ¨ä¿¡å·ï¼Œå¹¶ä½¿ç”¨**é›¶å¡«å……**ï¼ˆzero-paddingï¼‰å¤„ç†ç§»ä½åç©ºå‡ºçš„éƒ¨åˆ†ã€‚

### å‚æ•°è¯´æ˜

-   **`traces`** (`numpy.ndarray`, å½¢çŠ¶: `(m, n)`)
     åŸå§‹äºŒç»´åŠŸç‡è¿¹æ•°ç»„ï¼Œå…¶ä¸­ï¼š

    -   `m`ï¼šè¿¹çš„æ•°é‡
    -   `n`ï¼šæ¯æ¡è¿¹çš„é‡‡æ ·ç‚¹æ•°

    ç¤ºä¾‹ï¼š`traces[i]` è¡¨ç¤ºç¬¬ `i` æ¡åŠŸç‡è¿¹ã€‚

-   **`window`** (`int`)
     å»åŒæ­¥åŒ–çš„æœ€å¤§å»¶è¿ŸèŒƒå›´ï¼ˆä»¥é‡‡æ ·ç‚¹ä¸ºå•ä½ï¼‰ã€‚æ¯æ¡è¿¹å°†è¢«éšæœºå»¶è¿Ÿ `0` åˆ° `window` ä¸ªç‚¹ï¼ˆå«ï¼‰ã€‚

    -   è‹¥ `window = 0`ï¼šæ— å»¶è¿Ÿï¼Œè¿”å›åŸå§‹æ•°æ®ã€‚
    -   æ¨èå€¼ï¼šæ ¹æ®é‡‡æ ·ç‡å’Œç³»ç»Ÿæ—¶é’Ÿæ³¢åŠ¨ä¼°è®¡ï¼ˆå¦‚ 1â€“10 ä¸ªç‚¹ï¼‰ã€‚

------

### è¿”å›å€¼

-   **`delay_traces`** (`numpy.ndarray`, å½¢çŠ¶: `(m, n)`)
     ç»è¿‡å»åŒæ­¥åŒ–å¤„ç†åçš„è¿¹æ•°ç»„ã€‚æ¯æ¡è¿¹å‘å³ç§»åŠ¨ `random_num âˆˆ [0, window]` ä¸ªç‚¹ï¼Œå·¦ä¾§è¡¥ `random_num` ä¸ª `0`ã€‚

    >   âš ï¸ **æ³¨æ„**ï¼šç”±äºä½¿ç”¨**é›¶å¡«å……**ï¼Œç§»ä½åè¿¹çš„èµ·å§‹éƒ¨åˆ†ä¼šå¼•å…¥ `0` å€¼ï¼Œæš‚æ—¶ä¸çŸ¥é“å¦‚ä½•ä¼˜åŒ–

    

~~~python
import numpy as np
from mlscat.security import desynchronization

# åˆ›å»ºæ¨¡æ‹Ÿè¿¹æ•°æ® (5 æ¡è¿¹ï¼Œæ¯æ¡ 100 ä¸ªé‡‡æ ·ç‚¹)
original_traces = np.array([
    np.sin(np.linspace(0, 4*np.pi, 100)) + 0.1*np.random.randn(100) 
    for _ in range(5)
])  # shape: (5, 100)

# æ–½åŠ å»åŒæ­¥åŒ–ï¼Œæœ€å¤§å»¶è¿Ÿä¸º 5 ä¸ªé‡‡æ ·ç‚¹
desync_traces = desynchronization(traces=original_traces, window=5)
~~~

## shuffling

**mlscat.preprocessing.shuffling(traces, times)**

å¯¹æ¯æ¡èƒ½é‡è¿¹è¿›è¡Œ**éšæœºç‚¹äº¤æ¢**ï¼ˆRandom Point Swappingï¼‰ï¼Œæ¨¡æ‹Ÿç¡¬ä»¶æˆ–è½¯ä»¶ä¸­å®ç°çš„â€œ**éšæœºé‡æ’é˜²æŠ¤**â€ï¼ˆRandom Instruction Shufflingï¼‰æœºåˆ¶ã€‚

è¯¥å‡½æ•°åœ¨æ¯æ¡è¿¹å†…éƒ¨éšæœºé€‰æ‹©ä¸¤ä¸ªé‡‡æ ·ç‚¹å¹¶äº¤æ¢å…¶å€¼ï¼Œé‡å¤ `times` æ¬¡ï¼Œä»è€Œæ‰°ä¹±åŠŸç‡è¿¹çš„æ—¶é—´é¡ºåºï¼Œå¢åŠ ä¾§ä¿¡é“æ”»å‡»éš¾åº¦

### å‚æ•°è¯´æ˜

-   **`traces`** (`numpy.ndarray`, å½¢çŠ¶: `(m, n)` æˆ– `(n,)`)
     åŸå§‹èƒ½é‡è¿¹æ•°ç»„ï¼š

    -   äºŒç»´ï¼š`(m, n)` â€” `m` æ¡èƒ½é‡è¿¹ï¼Œæ¯æ¡ `n` ä¸ªé‡‡æ ·ç‚¹
    -   ä¸€ç»´ï¼š`(n,)` â€” å•æ¡èƒ½é‡è¿¹

    ç¤ºä¾‹ï¼š`traces[i][t]` è¡¨ç¤ºç¬¬ `i` æ¡èƒ½é‡è¿¹åœ¨æ—¶é—´ç‚¹ `t` çš„åŠŸè€—å€¼ã€‚

-   **`times`** (`int`)
     æ¯æ¡èƒ½é‡è¿¹æ‰§è¡Œéšæœºäº¤æ¢çš„æ¬¡æ•°ã€‚

    -   `times = 0`ï¼šæ— äº¤æ¢ï¼Œè¿”å›åŸå§‹æ•°æ®
    -   `times` è¶Šå¤§ï¼Œé‡æ’ç¨‹åº¦è¶Šé«˜ï¼Œæ—¶é—´ç»“æ„ç ´åè¶Šä¸¥é‡
    -   æ¨èå€¼ï¼š`10 ~ 100`ï¼ˆæ ¹æ®èƒ½é‡è¿¹é•¿åº¦è°ƒæ•´ï¼‰

    >   ğŸ’¡ æç¤ºï¼šé€šå¸¸ `times` ä¸è¿¹é•¿åº¦ `n` æˆæ­£æ¯”ï¼ˆå¦‚ `times = n // 10`ï¼‰

------

### è¿”å›å€¼

-   **`shuffled_traces`** (`numpy.ndarray`, å½¢çŠ¶ä¸è¾“å…¥ `traces` ç›¸åŒ)
    ç»è¿‡ `times` æ¬¡éšæœºäº¤æ¢åçš„åŠŸç‡è¿¹æ•°æ®ã€‚
    æ¯æ¡è¿¹ç‹¬ç«‹è¿›è¡Œé‡æ’ï¼Œèƒ½é‡è¿¹ä¹‹é—´ä¸äº¤å‰ã€‚

~~~python
import numpy as np
from mlscat.preprocessing import shuffling

# åˆ›å»ºæ¨¡æ‹Ÿèƒ½é‡è¿¹æ•°æ® (2 æ¡è¿¹ï¼Œæ¯æ¡ 200 ä¸ªç‚¹)
original_traces = np.array([
    np.sin(0.1 * np.arange(200)) + 0.5 * np.random.rand(200),
    np.cos(0.1 * np.arange(200)) + 0.3 * np.random.rand(200)
])  # shape: (2, 200)

# åº”ç”¨éšæœºé‡æ’ï¼šæ¯æ¡èƒ½é‡è¿¹äº¤æ¢ 30 æ¬¡
shuffled_traces = shuffling(traces=original_traces, times=30)
~~~

